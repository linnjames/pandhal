<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="account_move_notebook_fields_added" model="ir.ui.view">
        <field name="name">account.move.notebook.fields.added</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='payment_reference']" position="after">
                <field name="vehicle_number"/>
                <field name="is_ship_diff_address" attrs="{'invisible':[('move_type', 'in', ('in_invoice'))]}"/>
                <field name="convert_inr" digits="[12,12]"/>
                <field name="is_export" invisible="1"/>
            </xpath>
            <xpath expr="//field[@name='invoice_line_ids']/tree/field[@name='price_unit']"
                   position="after">
                <field name="discount_amount" force_save="1" invisible="1"/>
                <field name="sgst_perc" force_save="1" invisible="1"/>
                <field name="cgst_perc" force_save="1" invisible="1"/>
                <field name="igst_perc" force_save="1" invisible="1"/>
                <field name="cess" force_save="1" invisible="1"/>
                <field name="sgst_amount" force_save="1" invisible="1"/>
                <field name="cgst_amount" force_save="1" invisible="1"/>
                <field name="igst_amount" force_save="1" invisible="1"/>
            </xpath>
            <field name="amount_untaxed" position="after">
                <field name="discount_total" force_save="1"/>
            </field>
            <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='name']"
                   position="after">
              <field name="discount_amount" force_save="1" invisible="1"/>
              <field name="sgst_perc" force_save="1" invisible="1"/>
              <field name="cgst_perc" force_save="1" invisible="1"/>
              <field name="igst_perc" force_save="1" invisible="1"/>
            </xpath>

            <xpath expr="//field[@name='l10n_in_gst_treatment']" position="after">
                <field name="export_type" attrs="{'invisible': [('l10n_in_gst_treatment', '!=', 'overseas')],'required': [('l10n_in_gst_treatment', '=', 'overseas')],'readonly': [('state', '!=', 'draft')]}"/>
                <field name="sez_type" attrs="{'invisible': [('l10n_in_gst_treatment', '!=', 'special_economic_zone')],'required': [('l10n_in_gst_treatment', '=', 'special_economic_zone')],'readonly': [('state', '!=', 'draft')]}"/>
            </xpath>
            <xpath expr="//notebook" position="inside">
                   <page name="partner_shipping_address" string="Shipping Address" attrs="{'invisible': [('is_ship_diff_address', '=', False)]}">
                        <group col="4">
                            <field name="ship_gst" attrs="{'readonly': ['|',('irn_status', '!=', False),('ewaybill_status', '!=', False)]}"/>
                            <field name="ship_legal_name" attrs="{'required': [('is_ship_diff_address', '!=', False)],'readonly': [('irn_status', '!=', False)]}"/>
                            <field name="ship_add1" attrs="{'required': [('is_ship_diff_address', '!=', False)],'readonly': ['|',('irn_status', '!=', False),('ewaybill_status', '!=', False)]}"/>
                            <field name="ship_add2" attrs="{'readonly': ['|',('irn_status', '!=', False),('ewaybill_status', '!=', False)]}"/>
                            <field name="ship_loc" attrs="{'required': [('is_ship_diff_address', '!=', False)],'readonly': ['|',('irn_status', '!=', False),('ewaybill_status', '!=', False)]}"/>
                            <field name="ship_pin" attrs="{'readonly': ['|',('irn_status', '!=', False),('ewaybill_status', '!=', False)]}"/>
                            <field name="ship_state" attrs="{'required': [('is_ship_diff_address', '!=', False)],'readonly': ['|',('irn_status', '!=', False),('ewaybill_status', '!=', False)]}"/>
                            <field name="ship_st_code" readonly="1" force_save="1"/>
                        </group>
					</page>

                    <page name="export_details" string="Export Details" attrs="{'invisible': [('l10n_in_gst_treatment', '!=', 'overseas')]}">
                        <group col="4">
                            <field name="exp_bill_no" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="exp_bill_date" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                        </group>
					</page>
                </xpath>
        </field>
    </record>
    <record id="res_company_fields_added" model="ir.ui.view">
        <field name="name">res.company.fields.added</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='vat']" position="before">
                <field name="acc_bank_name"/>
                <field name="bank_branch"/>
                <field name="acc_number"/>
                <field name="bank_ifsc"/>
                <field name="fssai_no"/>
                <field name="swift_code"/>
                <field name="currency_remitted"/>
                <field name="cin_no"/>
            </xpath>
            <xpath expr="//field[@name='website']" position="after">
                <field name="code_qr" widget="image" class="oe_avatar"/>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="invoice_qr_code">
           <field name="name">account.move.qr.code</field>
           <field name="model">account.move</field>
           <field name="type">form</field>
           <field name="inherit_id" ref="account.view_move_form"/>
           <field name="arch" type="xml">
               <field name="vehicle_number" position="after">
                   <field name="prnt_qr_code" widget='image' class="oe_avatar" invisible="1"/>
               </field>
           </field>
         </record>
</odoo>